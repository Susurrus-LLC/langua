(self.webpackChunklangua=self.webpackChunklangua||[]).push([[590],{9050:function(e,t,n){"use strict";n.r(t),n.d(t,{PureGen:function(){return C},default:function(){return O}});var a=n(7294),r=n(5444),s=n(2691),i=n(5900),l=n.n(i),u=n(3721),o=n(5167),c=n(9668),p=n(9154),d=n(7340),h=n(9663),g=n(3154),f=function(e){var t=e.styles,n=e.data,r=e.change,s=a.createRef(),i=g.g.map((function(e,t){return a.createElement("option",{key:t,value:e},e)})),f=n.subpatterns.map((function(e,n){return a.createElement("div",{key:n,className:t.subpsRow},a.createElement("select",{id:"v"+n,name:"v"+n,value:e.selected,onChange:r,className:t.select,"aria-label":"Variable name for subpattern "+n},i),a.createElement("input",{type:"text",id:"p"+n,name:"p"+n,className:t.subpatternInput,value:e.subpattern,onChange:r,"aria-label":"Subpattern "+n}),a.createElement("div",{className:t.clearButton},a.createElement(o.Z,{id:"c"+n,onClick:r,ver:"danger",small:!0,type:"button","aria-label":"Delete subpattern "+n},"Delete")))}));return a.createElement(u.Z,{name:"gen-form"},a.createElement("div",{className:l()(t.subpatterns,h.Z.part)},a.createElement("h5",{className:h.Z.sectionTitle},"Subpatterns"),f,function(){if(n.subpatterns.length<g.g.length)return a.createElement("div",{className:t.addingRow},a.createElement(o.Z,{onClick:r,id:"add",ver:"success",small:!0,type:"button","aria-label":"Add a new subpattern"},"Add"))}()),a.createElement("div",{className:l()(t.pattern,h.Z.part)},a.createElement("h5",{className:h.Z.sectionTitle},"Pattern"),a.createElement("input",{type:"text",id:"pattern",name:"pattern",className:t.patternInput,value:n.pattern,onChange:r,"aria-label":"Pattern"})),a.createElement(c.Z,{addedClasses:h.Z.part},a.createElement(p.Z,{side:"left"},a.createElement(d.Z,null,a.createElement(o.Z,{id:"generate",onClick:r,type:"submit",ver:"neutral"},"Generate")),a.createElement(d.Z,null,a.createElement("label",{htmlFor:"words"},"words:"),a.createElement("input",{type:"number",id:"words",name:"words",min:"1",max:"9999",className:t.wordsInput,value:n.words,onChange:r,"aria-label":"Number of words to generate"})),a.createElement(d.Z,null,a.createElement("label",null,a.createElement("input",{type:"checkbox",id:"newline",name:"options",value:"newline",checked:n.newline,onChange:r})," ","new line each")),a.createElement(d.Z,null,a.createElement("label",null,a.createElement("input",{type:"checkbox",id:"filterdupes",name:"options",value:"filterdupes",checked:n.filterdupes,onChange:r})," ","filter duplicates"))),a.createElement(p.Z,{side:"right"},a.createElement(d.Z,null,a.createElement(o.Z,{id:"save",ver:"success",onClick:r,type:"button"},"Save")),a.createElement(d.Z,null,a.createElement(o.Z,{id:"open",onClick:function(e){e.preventDefault(),s.current.value="",s.current.click()},type:"button"},"Open"),a.createElement("input",{id:"file",name:"file",className:h.Z.hidden,type:"file",ref:s,onChange:r})))))},m=n(7673),b=n(5015),v=function(e){var t,n,r=e.styles,s=e.newline,i=e.filterDupes,l=e.status,u=e.results,o=e.stats,c=o.words.toLocaleString(),p=o.maxWords.toLocaleString(),d=o.filtered.toLocaleString(),h=o.remaining.toLocaleString();return a.createElement(m.Z,null,a.createElement("div",{className:r.output},l.includes("ok")?null:l.map((function(e,t){return a.createElement("p",{key:t,className:b.Z.error},e)})),(t=i?Array.from(new Set(u)):u,n=Array.prototype.join.call(t,s?"\n":" ").trim(),a.createElement("p",{className:r.outText},n))),a.createElement("div",{className:b.Z.stats},a.createElement("p",{className:b.Z.statsText},i?"words: "+h+" ("+d+" filtered out); maximum different words: "+p:"words: "+c+"; maximum different words: "+p)))},w=n(2591),S=n(3086),N=n.n(S),y=n(6649),E=n(570),Z=new(function(){function e(){this.item="gen",this.getData=this.getData.bind(this),this.setStorage=this.setStorage.bind(this),this.save=this.save.bind(this),this.open=this.open.bind(this),this.changeSelect=this.changeSelect.bind(this),this.changeSubpattern=this.changeSubpattern.bind(this),this.clear=this.clear.bind(this),this.add=this.add.bind(this),this.changePattern=this.changePattern.bind(this),this.wordNumChange=this.wordNumChange.bind(this),this.changeNewline=this.changeNewline.bind(this),this.changeDupes=this.changeDupes.bind(this),this.checkErrors=this.checkErrors.bind(this),this.generate=this.generate.bind(this),this.build=this.build.bind(this)}var t=e.prototype;return t.getData=function(){return y.Z.getData(this.item)},t.setStorage=function(e){y.Z.setStorage(e,this.item)},t.save=function(e){E.Z.save(e,this.item)},t.open=function(e,t){var n,a=this;window.FileReader?E.Z.openFile(e,(function(r){if(e.name.endsWith(E.Z.filetype(a.item))){var s=N()({selected:/[A-Z]/,subpattern:String}),i=N()({subpatterns:Array.of(1,24,s),pattern:String,words:Number.min(1).max(9999),newline:Boolean,filterdupes:Boolean}),l=JSON.parse(r);l.words=parseInt(l.words,10),i(l)?(w.Am.success("Data loaded from "+e.name+".",{autoClose:5e3,className:"toast-opened",bodyClassName:"toast-opened-body",progressClassName:"toast-opened-progress"}),a.setStorage(l),n=l):(w.Am.warn("The content of "+e.name+" is invalid.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),console.error(i.errors(l)),n=!1)}else w.Am.warn("Wrong filetype selected.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),n=!1;t(n)})):(w.Am.warn("Your browser is unable to open files.",{autoClose:5e3,className:"toast-unopened",bodyClassName:"toast-unopened-body",progressClassName:"toast-unopened-progress"}),t(n=!1))},t.changeSelect=function(e,t,n){var a=JSON.parse(JSON.stringify(n));return a.subpatterns[e].selected=t,a},t.changeSubpattern=function(e,t,n){var a=JSON.parse(JSON.stringify(n));return a.subpatterns[e].subpattern=t,a},t.clear=function(e,t){var n=JSON.parse(JSON.stringify(t));return n.subpatterns.splice(e,1),n},t.add=function(e){for(var t="",n=JSON.parse(JSON.stringify(e)),a=0;a<g.g.length;a++){for(var r=!1,s=0;s<n.subpatterns.length;s++)if(n.subpatterns[s].selected===g.g[a]){r=!0;break}if(!r){t=g.g[a];break}}return n.subpatterns.length<g.g.length&&n.subpatterns.push({selected:t,subpattern:""}),n},t.changePattern=function(e,t){var n=JSON.parse(JSON.stringify(t));return n.pattern=e,n},t.wordNumChange=function(e,t){if(e<1?e=1:e>9999&&(e=9999),e>0&&e<1e4){var n=JSON.parse(JSON.stringify(t));return n.words=e,n}return!1},t.changeNewline=function(e,t){var n=JSON.parse(JSON.stringify(t));return n.newline=e,n},t.changeDupes=function(e,t){var n=JSON.parse(JSON.stringify(t));return n.filterdupes=e,n},t.checkErrors=function(e){for(var t=[],n=function(e){for(var t=[],n=0;n<e.length;n++)g.g.includes(e[n])&&t.push(e[n]);return Array.from(new Set(t))},a=function t(a,r){var s=function(t){for(var n="",a=0;a<e.subpatterns.length;a++)if(e.subpatterns[a].selected===t){n=e.subpatterns[a].subpattern;break}return n}(a),i=n(s),l=!1;if(i.length>0)if(i.includes(a)||r.includes(a))l=!0;else{var u=0;for(r.push(a);!l&&u<i.length;)l=t(i[u],r),u++}return l},r=0;r<e.subpatterns.length;r++){var s=n(e.subpatterns[r].subpattern),i=[];if(s.length>0)for(var l=0;l<s.length;l++)if(a(s[l],i)){t.push("The Subpatterns contain a circular reference.");break}}for(var u=[],o=0;o<e.subpatterns.length;o++)for(var c=e.subpatterns[o].selected,p=0;p<e.subpatterns.length;p++)o!==p&&e.subpatterns[p].selected===c&&u.push(c);var d=(u=Array.from(new Set(u))).join(", ");u.length>1?t.push("Some Subpattern variables ("+d+") have been used multiple times."):1===u.length&&t.push("The Subpattern variable "+d+" has been used multiple times.");for(var h=[],f=0;f<e.subpatterns.length;f++)h.push(e.subpatterns[f].selected);for(var m=[],b=0;b<e.pattern.length;b++)g.g.includes(e.pattern[b])&&(h.includes(e.pattern[b])||m.push(e.pattern[b]));for(var v=0;v<e.subpatterns.length;v++)for(var w=0;w<e.subpatterns[v].subpattern.length;w++)g.g.includes(e.subpatterns[v].subpattern[w])&&(h.includes(e.subpatterns[v].subpattern[w])||m.push(e.subpatterns[v].subpattern[w]));var S=Array.from(new Set(m)),N=S.join(", ");return S.length>1?t.push("Some capital Aâ€“Z letters ("+N+") were used but not defined as variables. If your intention is to include these characters as a letter in the results, a future version will allow this using escaped characters."):1===S.length&&t.push("The capital letter "+N+" was used but not defined as a variable. If your intention is to include this character as a letter in the results, a future version will allow this using escaped characters."),t=Array.from(new Set(t))},t.generate=function(e){var t=this.checkErrors(e);return t.length>0?{status:t,results:[],stats:{words:0,maxWords:0,filtered:0,remaining:0}}:this.build(e,["ok"])},t.build=function(e,t){for(var n=[],a=JSON.parse(JSON.stringify(e)),r=function(e){return Math.floor(Math.random()*e)},s=function e(t,n){var a="";if(g.g.includes(n)){var s=function(e,t){for(var n=[],a=0;a<e.length;a++)if(e[a].selected===t){n=e[a].subpattern;break}return n}(t,n),l=s[r(s.length)];a=g.g.includes(l)?e(t,l):l}else a=n;return a.length>1&&(a=i(t,a)),a},i=function(e,t){for(var n="",a=0;a<t.length;a++)/[()[\]^*"]/.test(t[a])||(n+=s(e,t[a]));return n},l=0;l<a.subpatterns.length;l++)a.subpatterns[l].subpattern=a.subpatterns[l].subpattern.split("/");for(var u=a.pattern.split("/"),o=0;o<a.words;o++){var c="",p=u[r(u.length)];c+=i(a.subpatterns,p),n.push(c)}for(var d=0,h=0;h<u.length;h++){var f=1;if(0===u[h].length){f=0;break}for(var m=0;m<u[h].length;m++){var b=u[h][m],v=0,w=1;if(!/[()[\]^*"]/.test(b)){if(g.g.includes(b))for(var S=0;S<a.subpatterns.length;S++){var N=a.subpatterns[S];if(N.selected===b){w*=N.subpattern.length;break}}else v+=1;f*=w,f+=v}}d+=f}var y=0;0!==n[0].length&&(y=n.length);var E=Array.from(new Set(n)).length;return{status:t,results:n,stats:{words:y,maxWords:d,filtered:a.words-E,remaining:E}}},e}()),k={duplicate:"gen-module--duplicate--2vrZp",subpsRow:"gen-module--subps-row--3zHFo",addingRow:"gen-module--adding-row--1fmOe",patternInput:"gen-module--pattern-input--2efCc",subpatternInput:"gen-module--subpattern-input--siPud",wordsInput:"gen-module--words-input--2Y2vR",outText:"gen-module--out-text--SjdEj"},C=function(e){var t,n,r,i=e.data,l=null==i||null===(t=i.site)||void 0===t||null===(n=t.siteMetadata)||void 0===n||null===(r=n.toolInfo)||void 0===r?void 0:r.gen,u=(0,a.useState)(Z.getData().subpatterns),o=u[0],c=u[1],p=(0,a.useState)(Z.getData().pattern),d=p[0],h=p[1],g=(0,a.useState)(Z.getData().words),m=g[0],b=g[1],w=(0,a.useState)(Z.getData().newline),S=w[0],N=w[1],y=(0,a.useState)(Z.getData().filterdupes),E=y[0],C=y[1],O=(0,a.useState)(["ok"]),D=O[0],J=O[1],x=(0,a.useState)([""]),A=x[0],I=x[1],T=(0,a.useState)({words:0,maxWords:0,filtered:0,remaining:0}),P=T[0],R=T[1];return a.createElement(s.Z,{toolInfo:l},a.createElement(f,{styles:k,data:{subpatterns:o,pattern:d,words:m,newline:S,filterdupes:E},change:function(e){var t={subpatterns:o,pattern:d,words:m,newline:S,filterdupes:E};if("BUTTON"===e.target.tagName){if(e.preventDefault(),"submit"===e.target.type){var n=Z.generate(t);J(n.status),I(n.results),R(n.stats),Z.setStorage(t)}else if("button"===e.target.type)if("save"===e.target.id)Z.save(t);else if("add"===e.target.id)c(Z.add(t).subpatterns);else if("c"===e.target.id.slice(0,1)){var a=e.target.id.slice(1);c(Z.clear(a,t).subpatterns)}}else if("file"===e.target.type){e.preventDefault();var r=e.target.files[0];Z.open(r,(function(e){e&&(c(e.subpatterns),h(e.pattern),b(e.words),N(e.newline),C(e.filterdupes))}))}else if("checkbox"===e.target.type){var s=e.target.checked;"newline"===e.target.id?N(Z.changeNewline(s,t).newline):"filterdupes"===e.target.id&&C(Z.changeDupes(s,t).filterdupes)}else{var i=e.target.value;if("pattern"===e.target.id)h(Z.changePattern(i,t).pattern);else if("words"===e.target.id){var l=Z.wordNumChange(i,t);l&&b(l.words)}else{var u=e.target.id.slice(1),p=e.target.id.slice(0,1);"v"===p?c(Z.changeSelect(u,i,t).subpatterns):"p"===p&&c(Z.changeSubpattern(u,i,t).subpatterns)}}}}),a.createElement(v,{styles:k,newline:S,filterDupes:E,status:D,results:A,stats:P}))},O=function(e){var t=(0,r.useStaticQuery)("2549184658");return a.createElement(C,Object.assign({},e,{data:t}))}}}]);
//# sourceMappingURL=component---src-pages-gen-index-js-4d740c1e310f54419d79.js.map